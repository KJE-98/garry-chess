{"ast":null,"code":"import { Chess } from 'chess.js';\n\nconst axios = require('axios');\n\nexport async function getBestMove(rootPos) {\n  try {\n    let rootFenCleaned = rootPos.split(' ').slice(0, 3).join(' ');\n    let response = await axios.get('https://lichess.org/api/cloud-eval', {\n      params: {\n        fen: rootFenCleaned\n      }\n    });\n    let result = response.data.pvs[0].moves.split(\" \")[0];\n    console.log(result);\n    return cleanBestMove(rootPos, result);\n  } catch (e) {\n    return false;\n  }\n}\nexport async function getELOspecificMoves(rootPos, elo) {\n  let rootFenCleaned = rootPos.split(' ').slice(0, 3).join(' ');\n  let response = await axios.get('https://explorer.lichess.ovh/lichess', {\n    params: {\n      fen: rootFenCleaned,\n      speed: 'blitz',\n      moves: 3,\n      ratings: [elo - 100, elo]\n    }\n  });\n  let numMoves = response.data.moves.length;\n  let result = [response.data.moves[0].uci];\n  if (numMoves > 1) result.push(response.data.moves[1].uci);\n  if (numMoves > 2) result.push(response.data.moves[2].uci);\n  return result.map(move => cleanBestMove(rootPos, move));\n}\nexport async function generatePositions(rootPos, color, eloLevel) {\n  let game = new Chess(rootPos);\n  let allPositions = [];\n  let positions = [rootPos];\n  let newPositions = [];\n\n  if (game.turn() === color) {\n    allPositions.push(rootPos);\n  }\n\n  for (let i = 0; i < 6; i++) {\n    for (let position of positions) {\n      game.load(position);\n\n      if (game.turn() === color) {\n        game.load(position);\n        let move = await getBestMove(position);\n\n        if (!move) {\n          continue;\n        }\n\n        game.move({\n          from: move.slice(0, 2),\n          to: move.slice(2, 4)\n        });\n        newPositions.push(game.fen());\n      } else {\n        let moves = await getELOspecificMoves(position, eloLevel);\n\n        for (let move of moves) {\n          game.load(position);\n          game.move({\n            from: move.slice(0, 2),\n            to: move.slice(2, 4)\n          });\n          newPositions.push(game.fen());\n          allPositions.push(game.fen());\n        }\n      }\n    }\n\n    positions = newPositions;\n    newPositions = [];\n  }\n\n  return allPositions;\n} // move is assumed to be valid\n\nfunction cleanBestMove(fen, move) {\n  let game = new Chess(fen);\n\n  if (move.slice(0, 2) === 'e1' && game.get('e1').type === 'k' && game.get('e1').color === 'w' && move.slice(2, 4) === 'h1') {\n    return 'e1g1';\n  } else if (move.slice(0, 2) === 'e1' && game.get('e1').type === 'k' && game.get('e1').color === 'w' && move.slice(2, 4) === 'a1') {\n    return 'e1c1';\n  } else if (move.slice(0, 2) === 'e8' && game.get('e8').type === 'k' && game.get('e8').color === 'b' && move.slice(2, 4) === 'h8') {\n    return 'e8g8';\n  } else if (move.slice(0, 2) === 'e8' && game.get('e8').type === 'k' && game.get('e1').color === 'b' && move.slice(2, 4) === 'a8') {\n    return 'e8c8';\n  }\n\n  return move;\n}\n\nexport let defaultPositions = [\"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\", \"rnbqkbnr/ppp1pppp/8/3p4/8/5N2/PPPPPPPP/RNBQKB1R w KQkq d6 0 2\", \"rnbqkb1r/pppppppp/5n2/8/8/5N2/PPPPPPPP/RNBQKB1R w KQkq - 2 2\", \"rnbqkbnr/pp1ppppp/8/2p5/8/5N2/PPPPPPPP/RNBQKB1R w KQkq c6 0 2\", \"rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 1 3\", \"rnbqkbnr/ppp2ppp/4p3/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 0 3\", \"r1bqkbnr/ppp1pppp/2n5/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 1 3\", \"rnbqkb1r/pppppp1p/5np1/8/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\", \"rnbqkb1r/pppp1ppp/4pn2/8/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\", \"rnbqkb1r/pp1ppppp/5n2/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq c6 0 3\", \"r1bqkbnr/pp1ppppp/2n5/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 1 3\", \"rnbqkb1r/pp1ppppp/5n2/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 1 3\", \"rnbqkbnr/pp1p1ppp/4p3/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\", \"rnbqkb1r/ppp2ppp/4pn2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"rnbqkb1r/pp2pppp/2p2n2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"rnbqkb1r/ppp1pppp/5n2/8/2pP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"rnbqkb1r/ppp2ppp/4pn2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 4\", \"rnbqkbnr/pp3ppp/2p1p3/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"rnbqkbnr/pp3ppp/4p3/2pp4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq c6 0 4\", \"r1bqkbnr/ppp1pppp/2n5/8/2pP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"r2qkbnr/ppp1pppp/2n5/3p4/2PP2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 4\", \"r1bqkbnr/ppp2ppp/2n1p3/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\", \"rnbqk2r/ppppppbp/5np1/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\", \"rnbqkb1r/ppp1pp1p/5np1/3p4/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq d6 0 4\", \"rnbqkb1r/ppp1pp1p/3p1np1/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"rnbqkb1r/ppp2ppp/4pn2/3p4/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq d6 0 4\", \"rnbqk2r/pppp1ppp/4pn2/8/1bP5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\", \"rnbqkb1r/p1pp1ppp/1p2pn2/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\", \"rnbqkb1r/pp1ppp1p/5np1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"r1bqkbnr/pp1ppp1p/2n3p1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 3 4\", \"r1bqkbnr/pp1p1ppp/2n1p3/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 3 4\", \"rnbqkb1r/pp1ppp1p/5np1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\", \"r1bqkbnr/pp1p1ppp/2n1p3/2p5/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 4\", \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 4\", \"rnbqkbnr/pp3ppp/4p3/2pp4/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq d6 0 4\", \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rn1qkb1r/pp2pppp/2p2n2/3p4/2PP2b1/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\", \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 0 5\", \"rn1qkb1r/pp2pppp/2p2n2/3p1b2/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\", \"rnbqkb1r/ppp2ppp/4pn2/8/2pP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 0 5\", \"rn1qkb1r/ppp1pppp/5n2/8/2pP2b1/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\", \"rnbqkb1r/p1p1pppp/5n2/1p6/2pP4/4PN2/PP3PPP/RNBQKB1R w KQkq b6 0 5\", \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 3 5\", \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 3 5\", \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\", \"rnbqkbnr/pp4pp/2p1p3/3p1p2/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq f6 0 5\", \"rnbqk1nr/pp3ppp/2pbp3/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\", \"rnbqkbnr/pp3ppp/8/2pp4/3P4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\", \"rnb1kbnr/pp3ppp/4p3/2pq4/3P4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\", \"rnbqkbnr/pp3ppp/4p3/3P4/3p4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\", \"r2qkbnr/ppp1pppp/2n5/8/2pP2b1/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"r1bqkb1r/ppp1pppp/2n2n2/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"r1bqkbnr/ppp2ppp/2n1p3/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r2qkbnr/ppp1pppp/2n5/3P4/3P4/5b2/PP2PPPP/RNBQKB1R w KQkq - 0 5\", \"r3kbnr/ppp1pppp/2n5/3q4/3P2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\", \"r2qkbnr/ppp1pppp/8/3P4/1n1P2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 5\", \"r1bqkb1r/ppp2ppp/2n1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"r1bqk1nr/ppp2ppp/2n1p3/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\", \"r1bqkbnr/ppp2ppp/2n1p3/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqk2r/ppp1ppbp/3p1np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\", \"rnbq1rk1/ppppppbp/5np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQ - 1 5\", \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq c6 0 5\", \"rnbqkb1r/ppp1pp1p/6p1/3n4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqk2r/ppp1ppbp/5np1/3P4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 1 5\", \"rnbqkb1r/pp2pp1p/2p2np1/3P4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqk2r/ppp1ppbp/3p1np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"rnbqkb1r/ppp2p1p/3p1np1/4p3/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq e6 0 5\", \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq c6 0 5\", \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 1 5\", \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 1 5\", \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rnbq1rk1/pppp1ppp/4pn2/8/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQ - 4 5\", \"rnbqk2r/p1pp1ppp/1p2pn2/8/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQkq - 0 5\", \"rnbqk2r/pp1p1ppp/4pn2/2p5/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQkq c6 0 5\", \"rn1qkb1r/pbpp1ppp/1p2pn2/8/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"rn1qkb1r/p1pp1ppp/bp2pn2/8/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"rnbqk2r/p1pp1ppp/1p2pn2/8/1bP5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\", \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\", \"rnbqkb1r/p2p1ppp/1p2pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"r1bqk1nr/pp1pppbp/2n3p1/2p5/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"r1bqkbnr/pp1p1p1p/2n3p1/2p1p3/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq e6 0 5\", \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"r1bqkbnr/pp3ppp/2n1p3/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\", \"r1bqkbnr/1p1p1ppp/p1n1p3/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\", \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\", \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\", \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\", \"rnbqkb1r/p2p1ppp/1p2pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\", \"r1bqkbnr/pp3ppp/2n1p3/2pp4/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq d6 0 5\", \"r1bqkbnr/pp1p1p1p/2n1p1p1/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 0 5\", \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\", \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq d6 0 5\", \"rnbqk2r/pp1pbppp/4pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\", \"rnbqkbnr/pp3ppp/8/2pp4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 0 5\", \"rnb1kbnr/pp3ppp/4p3/2pq4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 0 5\", \"rnbqkb1r/pp3ppp/4pn2/2pP4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 5\"];","map":{"version":3,"names":["Chess","axios","require","getBestMove","rootPos","rootFenCleaned","split","slice","join","response","get","params","fen","result","data","pvs","moves","console","log","cleanBestMove","e","getELOspecificMoves","elo","speed","ratings","numMoves","length","uci","push","map","move","generatePositions","color","eloLevel","game","allPositions","positions","newPositions","turn","i","position","load","from","to","type","defaultPositions"],"sources":["/Users/kianeghbalnia/Desktop/garry-chess/GarryChess/src/ImportantFunctions.js"],"sourcesContent":["import { Chess } from 'chess.js';\n\nconst axios = require('axios');\n\nexport async function getBestMove(rootPos) {\n  try{\n    let rootFenCleaned = rootPos.split(' ').slice(0,3).join(' ');\n    let response = await axios.get('https://lichess.org/api/cloud-eval', {\n        params: {\n          fen: rootFenCleaned\n        }\n      });\n    let result = response.data.pvs[0].moves.split(\" \")[0];\n    console.log(result);\n    return cleanBestMove(rootPos, result);\n  } catch (e) {\n    return false;\n  }\n}\n\nexport async function getELOspecificMoves(rootPos, elo){\n    let rootFenCleaned = rootPos.split(' ').slice(0,3).join(' ');\n    let response = await axios.get('https://explorer.lichess.ovh/lichess', {\n        params: {\n          fen: rootFenCleaned,\n          speed: 'blitz',\n          moves: 3,\n          ratings: [elo-100, elo],\n        }\n      });\n    let numMoves = response.data.moves.length;\n    let result = [response.data.moves[0].uci];\n    if (numMoves > 1)\n      result.push(response.data.moves[1].uci);\n    if (numMoves > 2)\n      result.push(response.data.moves[2].uci);\n    return result.map((move)=>cleanBestMove(rootPos,move));\n}\n\nexport async function generatePositions(rootPos, color, eloLevel) {\n    let game = new Chess(rootPos);\n    let allPositions = [];\n\n    let positions = [rootPos];\n    let newPositions = [];\n\n    if (game.turn() === color){\n      allPositions.push(rootPos);\n    }\n    for (let i = 0; i<6; i++)\n    {\n      for (let position of positions)\n      {\n        game.load(position);\n        \n        if (game.turn() === color){\n          game.load(position);\n          let move = await getBestMove(position);\n          if (!move){\n            continue;\n          }\n          game.move({ from: move.slice(0,2), to: move.slice(2,4) });\n          newPositions.push(game.fen());\n        }else {\n          let moves = await getELOspecificMoves(position, eloLevel);\n          for (let move of moves)\n          {\n            game.load(position);\n            game.move({ from: move.slice(0,2), to: move.slice(2,4) });\n            newPositions.push(game.fen());\n            allPositions.push(game.fen());\n          }\n        }\n      }\n      positions = newPositions;\n      newPositions = [];\n    }\n    return allPositions;\n}\n\n// move is assumed to be valid\nfunction cleanBestMove(fen, move){\n  let game = new Chess(fen);\n  if (move.slice(0,2) === 'e1' && game.get('e1').type === 'k' && game.get('e1').color === 'w' && move.slice(2,4) === 'h1'){\n    return 'e1g1'\n  }\n  else if (move.slice(0,2) === 'e1' && game.get('e1').type === 'k' && game.get('e1').color === 'w' && move.slice(2,4) === 'a1'){\n    return 'e1c1'\n  }\n  else if (move.slice(0,2) === 'e8' && game.get('e8').type === 'k' && game.get('e8').color === 'b' && move.slice(2,4) === 'h8'){\n    return 'e8g8'\n  }\n  else if (move.slice(0,2) === 'e8' && game.get('e8').type === 'k' && game.get('e1').color === 'b' && move.slice(2,4) === 'a8'){\n    return 'e8c8'\n  }\n  return move;\n}\n\nexport let defaultPositions = [\n  \"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\",\n  \"rnbqkbnr/ppp1pppp/8/3p4/8/5N2/PPPPPPPP/RNBQKB1R w KQkq d6 0 2\",\n  \"rnbqkb1r/pppppppp/5n2/8/8/5N2/PPPPPPPP/RNBQKB1R w KQkq - 2 2\",\n  \"rnbqkbnr/pp1ppppp/8/2p5/8/5N2/PPPPPPPP/RNBQKB1R w KQkq c6 0 2\",\n  \"rnbqkb1r/ppp1pppp/5n2/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 1 3\",\n  \"rnbqkbnr/ppp2ppp/4p3/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 0 3\",\n  \"r1bqkbnr/ppp1pppp/2n5/3p4/3P4/5N2/PPP1PPPP/RNBQKB1R w KQkq - 1 3\",\n  \"rnbqkb1r/pppppp1p/5np1/8/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\",\n  \"rnbqkb1r/pppp1ppp/4pn2/8/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\",\n  \"rnbqkb1r/pp1ppppp/5n2/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq c6 0 3\",\n  \"r1bqkbnr/pp1ppppp/2n5/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 1 3\",\n  \"rnbqkb1r/pp1ppppp/5n2/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 1 3\",\n  \"rnbqkbnr/pp1p1ppp/4p3/2p5/2P5/5N2/PP1PPPPP/RNBQKB1R w KQkq - 0 3\",\n  \"rnbqkb1r/ppp2ppp/4pn2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/pp2pppp/2p2n2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/ppp1pppp/5n2/8/2pP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/ppp2ppp/4pn2/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 4\",\n  \"rnbqkbnr/pp3ppp/2p1p3/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"rnbqkbnr/pp3ppp/4p3/2pp4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq c6 0 4\",\n  \"r1bqkbnr/ppp1pppp/2n5/8/2pP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"r2qkbnr/ppp1pppp/2n5/3p4/2PP2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 4\",\n  \"r1bqkbnr/ppp2ppp/2n1p3/3p4/2PP4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 4\",\n  \"rnbqk2r/ppppppbp/5np1/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\",\n  \"rnbqkb1r/ppp1pp1p/5np1/3p4/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq d6 0 4\",\n  \"rnbqkb1r/ppp1pp1p/3p1np1/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/ppp2ppp/4pn2/3p4/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq d6 0 4\",\n  \"rnbqk2r/pppp1ppp/4pn2/8/1bP5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\",\n  \"rnbqkb1r/p1pp1ppp/1p2pn2/8/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 2 4\",\n  \"rnbqkb1r/pp1ppp1p/5np1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"r1bqkbnr/pp1ppp1p/2n3p1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 3 4\",\n  \"r1bqkbnr/pp1p1ppp/2n1p3/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 3 4\",\n  \"rnbqkb1r/pp1ppp1p/5np1/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 4\",\n  \"r1bqkbnr/pp1p1ppp/2n1p3/2p5/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 4\",\n  \"rnbqkb1r/pp1p1ppp/4pn2/2p5/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 4\",\n  \"rnbqkbnr/pp3ppp/4p3/2pp4/2P5/5NP1/PP1PPP1P/RNBQKB1R w KQkq d6 0 4\",\n  \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rn1qkb1r/pp2pppp/2p2n2/3p4/2PP2b1/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 0 5\",\n  \"rn1qkb1r/pp2pppp/2p2n2/3p1b2/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/ppp2ppp/4pn2/8/2pP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 0 5\",\n  \"rn1qkb1r/ppp1pppp/5n2/8/2pP2b1/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/p1p1pppp/5n2/1p6/2pP4/4PN2/PP3PPP/RNBQKB1R w KQkq b6 0 5\",\n  \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 3 5\",\n  \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 3 5\",\n  \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\",\n  \"rnbqkbnr/pp4pp/2p1p3/3p1p2/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq f6 0 5\",\n  \"rnbqk1nr/pp3ppp/2pbp3/3p4/2PP4/4PN2/PP3PPP/RNBQKB1R w KQkq - 1 5\",\n  \"rnbqkbnr/pp3ppp/8/2pp4/3P4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\",\n  \"rnb1kbnr/pp3ppp/4p3/2pq4/3P4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\",\n  \"rnbqkbnr/pp3ppp/4p3/3P4/3p4/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\",\n  \"r2qkbnr/ppp1pppp/2n5/8/2pP2b1/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"r1bqkb1r/ppp1pppp/2n2n2/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"r1bqkbnr/ppp2ppp/2n1p3/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r2qkbnr/ppp1pppp/2n5/3P4/3P4/5b2/PP2PPPP/RNBQKB1R w KQkq - 0 5\",\n  \"r3kbnr/ppp1pppp/2n5/3q4/3P2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 0 5\",\n  \"r2qkbnr/ppp1pppp/8/3P4/1n1P2b1/5N2/PP2PPPP/RNBQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/ppp2ppp/2n1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"r1bqk1nr/ppp2ppp/2n1p3/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5\",\n  \"r1bqkbnr/ppp2ppp/2n1p3/8/2pP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqk2r/ppp1ppbp/3p1np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbq1rk1/ppppppbp/5np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQ - 1 5\",\n  \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq c6 0 5\",\n  \"rnbqkb1r/ppp1pp1p/6p1/3n4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqk2r/ppp1ppbp/5np1/3P4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/pp2pp1p/2p2np1/3P4/8/2N2N2/PP1PPPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqk2r/ppp1ppbp/3p1np1/8/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/ppp2p1p/3p1np1/4p3/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq e6 0 5\",\n  \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq c6 0 5\",\n  \"rnbqk2r/ppp1bppp/4pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqk2r/ppp2ppp/4pn2/3p4/1bPP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/pp3ppp/2p1pn2/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbq1rk1/pppp1ppp/4pn2/8/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQ - 4 5\",\n  \"rnbqk2r/p1pp1ppp/1p2pn2/8/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQkq - 0 5\",\n  \"rnbqk2r/pp1p1ppp/4pn2/2p5/1bP5/2N2N2/PPQPPPPP/R1B1KB1R w KQkq c6 0 5\",\n  \"rn1qkb1r/pbpp1ppp/1p2pn2/8/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"rn1qkb1r/p1pp1ppp/bp2pn2/8/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqk2r/p1pp1ppp/1p2pn2/8/1bP5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\",\n  \"rnbqkb1r/p2p1ppp/1p2pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqk1nr/pp1pppbp/2n3p1/2p5/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkbnr/pp1p1p1p/2n3p1/2p1p3/2P5/2N1PN2/PP1P1PPP/R1BQKB1R w KQkq e6 0 5\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkbnr/pp3ppp/2n1p3/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\",\n  \"r1bqkbnr/1p1p1ppp/p1n1p3/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1ppppp/2n2n2/8/2Pp4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqkb1r/pp2pp1p/3p1np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 0 5\",\n  \"rnbqk2r/pp1pppbp/5np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/pp1ppp1p/2n2np1/2p5/2P1P3/2N2N2/PP1P1PPP/R1BQKB1R w KQkq - 1 5\",\n  \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq d6 0 5\",\n  \"rnbqkb1r/p2p1ppp/1p2pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/2N2NP1/PP1PPP1P/R1BQKB1R w KQkq - 1 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\",\n  \"r1bqkbnr/pp3ppp/2n1p3/2pp4/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq d6 0 5\",\n  \"r1bqkbnr/pp1p1p1p/2n1p1p1/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 0 5\",\n  \"r1bqkb1r/pp1p1ppp/2n1pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\",\n  \"rnbqkb1r/pp3ppp/4pn2/2pp4/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq d6 0 5\",\n  \"rnbqk2r/pp1pbppp/4pn2/2p5/2P5/5NP1/PP1PPPBP/RNBQK2R w KQkq - 3 5\",\n  \"rnbqkbnr/pp3ppp/8/2pp4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 0 5\",\n  \"rnb1kbnr/pp3ppp/4p3/2pq4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 0 5\",\n  \"rnbqkb1r/pp3ppp/4pn2/2pP4/8/5NP1/PP1PPP1P/RNBQKB1R w KQkq - 1 5\"\n];"],"mappings":"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"},"metadata":{},"sourceType":"module"}